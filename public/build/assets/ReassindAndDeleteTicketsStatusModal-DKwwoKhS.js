import{r as o,j as e}from"./app-CrM3bAr7.js";import{A as d,a as p,b as g,c as h,d as x,e as j,f as u,g as f}from"./alert-dialog-DBPQtoSw.js";import{L as b}from"./label-Dif50TA4.js";import{S as A,a as S,b as v,c as C,d as D}from"./select-ZNRTKmmh.js";import"./index-BYkqkD9G.js";import"./index-DCk08MMz.js";import"./index-C7o-dAq6.js";import"./index-C07_Bs9F.js";import"./tslib.es6-CMwweBXX.js";import"./utils-jAU0Cazi.js";import"./index-DZZQifJx.js";import"./index-ChLr_mRA.js";import"./index-CipIuUZM.js";import"./index-Cxnn9A7l.js";import"./index-Dyr2mIP4.js";import"./index-GEmL2IxC.js";import"./index-6v8HNz3P.js";import"./floating-ui.react-dom-D6wYppxE.js";import"./index-fR5QWmBt.js";import"./index-rQBWhrbd.js";import"./index-D9YkVoQb.js";import"./index-CFGBrPdz.js";import"./chevron-down-BZjTBYLj.js";import"./createLucideIcon-BQ0uF5zu.js";import"./check-BKXQxHa7.js";function Y({isOpen:l,onOpenChange:n,onConfirm:c,statusToDelete:s,otherStatuses:t}){const[i,a]=o.useState(null);o.useEffect(()=>{l&&t.length>0?a(t[0].id):a(null)},[l,t]);const m=()=>{i&&c(i)};return e.jsx(d,{open:l,onOpenChange:n,children:e.jsxs(p,{className:"bg-popover",children:[e.jsxs(g,{children:[e.jsxs(h,{children:['Delete Status: "',s==null?void 0:s.name,'"?']}),e.jsx(x,{children:"This status may be in use. To delete it, please choose a new status to assign to all affected tickets. This action cannot be undone."})]}),e.jsxs("div",{className:"py-4",children:[e.jsx(b,{htmlFor:"new-status-select",children:"Re-assign tickets to:"}),e.jsxs(A,{value:i?String(i):"",onValueChange:r=>a(Number(r)),children:[e.jsx(S,{className:"ring-1 ring-ring",id:"new-status-select",children:e.jsx(v,{placeholder:"Select a new status..."})}),e.jsx(C,{children:t.map(r=>e.jsx(D,{value:String(r.id),className:"hover:bg-accent hover:text-accent-foreground",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 h-3 w-3 rounded-full border",style:{backgroundColor:r.bg_color}}),e.jsx("span",{children:r.name})]})},r.id))})]})]}),e.jsxs(j,{children:[e.jsx(u,{children:"Cancel"}),e.jsx(f,{onClick:m,disabled:!i,children:"Re-assign and Delete"})]})]})})}export{Y as ReassignAndDeleteStatusModal};
