import{r as l,j as e}from"./app-CrM3bAr7.js";import{A as d,a as p,b as h,c as g,d as x,e as u,f as j,g as f}from"./alert-dialog-DBPQtoSw.js";import{L as S}from"./label-Dif50TA4.js";import{S as b,a as A,b as v,c as C,d as D}from"./select-ZNRTKmmh.js";import"./index-BYkqkD9G.js";import"./index-DCk08MMz.js";import"./index-C7o-dAq6.js";import"./index-C07_Bs9F.js";import"./tslib.es6-CMwweBXX.js";import"./utils-jAU0Cazi.js";import"./index-DZZQifJx.js";import"./index-ChLr_mRA.js";import"./index-CipIuUZM.js";import"./index-Cxnn9A7l.js";import"./index-Dyr2mIP4.js";import"./index-GEmL2IxC.js";import"./index-6v8HNz3P.js";import"./floating-ui.react-dom-D6wYppxE.js";import"./index-fR5QWmBt.js";import"./index-rQBWhrbd.js";import"./index-D9YkVoQb.js";import"./index-CFGBrPdz.js";import"./chevron-down-BZjTBYLj.js";import"./createLucideIcon-BQ0uF5zu.js";import"./check-BKXQxHa7.js";function Y({isOpen:i,onOpenChange:n,onConfirm:c,statusToDelete:s,otherStatuses:a}){const[t,o]=l.useState(null);l.useEffect(()=>{var r;i&&o(((r=a[0])==null?void 0:r.id)||null)},[i]);const m=()=>{t&&c(t)};return e.jsx(d,{open:i,onOpenChange:n,children:e.jsxs(p,{children:[e.jsxs(h,{children:[e.jsxs(g,{children:['Delete Status: "',s==null?void 0:s.name,'"?']}),e.jsx(x,{children:"This status is currently in use. To delete it, please choose a new status to assign to all affected machines. This action cannot be undone."})]}),e.jsxs("div",{className:"py-4",children:[e.jsx(S,{htmlFor:"new-status-select",children:"Re-assign machines to:"}),e.jsxs(b,{value:t?String(t):"",onValueChange:r=>o(Number(r)),children:[e.jsx(A,{id:"new-status-select",className:"bg-accent ring-1 ring-ring hover:bg-accent hover:text-accent-foreground",children:e.jsx(v,{placeholder:"Select a new status..."})}),e.jsx(C,{children:a.map(r=>e.jsx(D,{value:String(r.id),className:"hover:bg-accent hover:text-accent-foreground",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 h-3 w-3 rounded-full border",style:{backgroundColor:r.bg_color}}),e.jsx("span",{children:r.name})]})},r.id))})]})]}),e.jsxs(u,{children:[e.jsx(j,{children:"Cancel"}),e.jsx(f,{onClick:m,disabled:!t,children:"Re-assign and Delete"})]})]})})}export{Y as ReassignAndDeleteStatusModal};
