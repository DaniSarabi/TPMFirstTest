import{r as o,S as f,j as e,L as b,$ as C}from"./app-CrM3bAr7.js";import{u as S,D as g,g as w}from"./data-table-DUdic_wO.js";import{D as y}from"./data-table-view-options-4_U_3RXz.js";import{L as T}from"./list-toolbar-E0ROXguB.js";import{P as A}from"./pagination-Dz5UDBcr.js";import{B as D}from"./button-DSYtEUz-.js";import{A as L}from"./app-layout-CK9_8PlX.js";import{u as a}from"./useCan-CJh7wlIU.js";import{getColumns as R}from"./columns-Cvw_1njs.js";import{C as v}from"./circle-plus-C35qyZhc.js";import"./utils-jAU0Cazi.js";import"./dropdown-menu-D615tSEK.js";import"./index-ChLr_mRA.js";import"./index-CipIuUZM.js";import"./index-GEmL2IxC.js";import"./index-DCk08MMz.js";import"./index-Dyr2mIP4.js";import"./index-Cxnn9A7l.js";import"./index-6v8HNz3P.js";import"./floating-ui.react-dom-D6wYppxE.js";import"./index-fR5QWmBt.js";import"./index-rQBWhrbd.js";import"./index-Dd5Vhwor.js";import"./index-C07_Bs9F.js";import"./tslib.es6-CMwweBXX.js";import"./check-BKXQxHa7.js";import"./createLucideIcon-BQ0uF5zu.js";import"./input-BwgTVrff.js";import"./select-ZNRTKmmh.js";import"./index-D9YkVoQb.js";import"./index-CFGBrPdz.js";import"./chevron-down-BZjTBYLj.js";import"./chevron-left-D6TzJdSq.js";import"./chevron-right-B5DMNuK2.js";import"./index-C7o-dAq6.js";import"./index-DZZQifJx.js";import"./index-BYkqkD9G.js";import"./x-DprXbeJV.js";import"./tooltip-DWc-CuE-.js";import"./user-avatar-CalEyW6r.js";import"./chevrons-up-down-CqP_Vf3P.js";import"./shield-check-0vfauCFM.js";import"./badge-IgYfdO9V.js";import"./separator-C07NZpcB.js";import"./data-table-column-header-B8b-xJ6_.js";import"./checkbox-XYYM_-Ow.js";import"./pencil-fd9eBnUr.js";const M=[{title:"Users",href:route("users.index"),isCurrent:!0}];function Te({users:m,filters:s}){const[p,x]=o.useState(s.search||""),[t,n]=o.useState(s.sort?{id:s.sort,desc:s.direction==="desc"}:null),c=o.useRef(!0),i={create:a("users.create"),edit:a("users.edit"),delete:a("users.delete")};function h(r){confirm("Are you sure you want to delete this user?")&&f.delete(route("users.destroy",r))}o.useEffect(()=>{if(c.current){c.current=!1;return}const r=setTimeout(()=>{f.get(route("users.index"),{search:p,sort:t==null?void 0:t.id,direction:t!=null&&t.desc?"desc":"asc"},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(r)},[p,t]);const j=(r,d)=>{n(d===null?null:{id:r,desc:d==="desc"})},u=o.useMemo(()=>R(i,h,j,t),[i,t]),l=S({data:m.data,columns:u,getCoreRowModel:w()});return e.jsxs(L,{breadcrumbs:M,children:[e.jsx(b,{title:"Users"}),e.jsxs("div",{className:"space-y-4 p-6",children:[e.jsx("div",{className:"flex items-center justify-between ",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Users"})}),e.jsx(T,{onSearch:x,searchPlaceholder:"Filter by name or email...",createAction:i.create?e.jsx(D,{asChild:!0,children:e.jsxs(C,{href:route("users.create"),children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Create User"]})}):null,viewOptionsAction:e.jsx(y,{table:l})}),e.jsx(g,{table:l,columns:u}),e.jsx(A,{paginated:m})]})]})}export{Te as default};
