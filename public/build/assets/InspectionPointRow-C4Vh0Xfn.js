import{r as v,j as e}from"./app-CrM3bAr7.js";import{I as N}from"./input-BwgTVrff.js";import{L as x}from"./label-Dif50TA4.js";import{S as y,a as w,b,c as C,d as S}from"./select-ZNRTKmmh.js";import{T as k}from"./textarea-BH7YRjF0.js";import{c as m}from"./createLucideIcon-BQ0uF5zu.js";import{C as _}from"./circle-x-CyllH9Co.js";import{C as I}from"./circle-alert-BpGn1koC.js";import"./utils-jAU0Cazi.js";import"./index-DCk08MMz.js";import"./index-C7o-dAq6.js";import"./index-ChLr_mRA.js";import"./index-CipIuUZM.js";import"./index-Cxnn9A7l.js";import"./index-Dyr2mIP4.js";import"./index-GEmL2IxC.js";import"./index-6v8HNz3P.js";import"./floating-ui.react-dom-D6wYppxE.js";import"./index-fR5QWmBt.js";import"./index-rQBWhrbd.js";import"./index-D9YkVoQb.js";import"./index-CFGBrPdz.js";import"./index-C07_Bs9F.js";import"./tslib.es6-CMwweBXX.js";import"./chevron-down-BZjTBYLj.js";import"./check-BKXQxHa7.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],R=m("CircleCheck",P);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],p=m("Circle",q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],$=m("ImagePlus",L),V=({status:s})=>{if(!s)return e.jsx(p,{className:"h-7 w-7 text-muted-foreground"});switch(s.severity){case 0:return e.jsx(R,{className:"h-7 w-7 text-green-500"});case 1:return e.jsx(I,{className:"h-7 w-7 text-yellow-500"});case 2:return e.jsx(_,{className:"h-7 w-7 text-red-500"});default:return e.jsx(p,{className:"h-7 w-7 text-muted-foreground"})}};function oe({point:s,statuses:d,result:t,onResultChange:l,onStatusChange:g}){const[n,u]=v.useState(null),i=d.find(r=>r.id===t.status_id),c=!t.pinged_ticket_id,a=i&&i.severity>0,j=r=>{var h;const o=(h=r.target.files)==null?void 0:h[0];o&&(l({...t,image:o}),u(URL.createObjectURL(o)))},f=r=>{l({...t,comment:r.target.value})};return e.jsxs("div",{className:"mb-4 flex flex-col rounded-md bg-muted/30 p-2 shadow-lg shadow-primary drop-shadow-lg transition-colors hover:bg-muted",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{status:i}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"line-clamp-2 text-sm font-light text-muted-foreground/50 italic",children:s.description||"No description provided."})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(y,{value:t.status_id?String(t.status_id):"",onValueChange:r=>g(s.id,Number(r)),children:[e.jsx(w,{className:"w-[180px] bg-accent shadow-sm",children:e.jsx(b,{placeholder:"Select Status"})}),e.jsx(C,{children:d.map(r=>e.jsx(S,{value:String(r.id),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 h-3 w-3 rounded-full",style:{backgroundColor:r.bg_color}}),e.jsx("span",{children:r.name})]})},r.id))})]})})]}),i&&e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 pl-7 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2 ",children:[e.jsxs(x,{htmlFor:`comment-${s.id}`,children:["Comment ",e.jsx("span",{className:a?"text-red-500":"text-blue-500",children:a?"(Required)":"(Optional)"})]})," ",e.jsx(k,{id:`comment-${s.id}`,value:t.comment||"",onChange:f,placeholder:"Describe the situation or issue...",required:a,className:"ring-1 hover:bg-accent hover:ring-primary hover:text-accent-foreground"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(x,{htmlFor:`image-${s.id}`,children:["Photo ",e.jsx("span",{className:c?"text-red-500":"text-blue-500",children:c?"(Required)":""})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(N,{id:`image-${s.id}`,type:"file",accept:"image/*",onChange:j,className:"flex-1 ring-1 hover:bg-accent hover:ring-primary",required:c}),n?e.jsx("img",{src:n,alt:"Preview",className:"h-24 w-24 rounded-md object-cover"}):e.jsx("div",{className:"flex h-24 w-24 items-center justify-center rounded-md border-0 ",children:e.jsx($,{className:"h-6 w-6 text-muted-foreground"})})]})]})]})]})}export{oe as InspectionPointRow};
