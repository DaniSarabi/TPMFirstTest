import{r as o,S as y,j as t,L as v}from"./app-CrM3bAr7.js";import{C as S}from"./card-grid-BPRpDGo_.js";import{L as b}from"./list-toolbar-E0ROXguB.js";import{P as g}from"./pagination-Dz5UDBcr.js";import{A as C}from"./app-layout-CK9_8PlX.js";import{u as I}from"./useCan-CJh7wlIU.js";import{InspectionCard as w}from"./InspectionCard-2ubQ4g_c.js";import{f as u,I as N}from"./InspectionFilters-CG6VLGAd.js";import"./input-BwgTVrff.js";import"./utils-jAU0Cazi.js";import"./button-DSYtEUz-.js";import"./index-C7o-dAq6.js";import"./index-DZZQifJx.js";import"./select-ZNRTKmmh.js";import"./index-DCk08MMz.js";import"./index-ChLr_mRA.js";import"./index-CipIuUZM.js";import"./index-Cxnn9A7l.js";import"./index-Dyr2mIP4.js";import"./index-GEmL2IxC.js";import"./index-6v8HNz3P.js";import"./floating-ui.react-dom-D6wYppxE.js";import"./index-fR5QWmBt.js";import"./index-rQBWhrbd.js";import"./index-D9YkVoQb.js";import"./index-CFGBrPdz.js";import"./index-C07_Bs9F.js";import"./tslib.es6-CMwweBXX.js";import"./chevron-down-BZjTBYLj.js";import"./createLucideIcon-BQ0uF5zu.js";import"./check-BKXQxHa7.js";import"./chevron-left-D6TzJdSq.js";import"./chevron-right-B5DMNuK2.js";import"./index-BYkqkD9G.js";import"./x-DprXbeJV.js";import"./tooltip-DWc-CuE-.js";import"./index-Dd5Vhwor.js";import"./dropdown-menu-D615tSEK.js";import"./user-avatar-CalEyW6r.js";import"./chevrons-up-down-CqP_Vf3P.js";import"./shield-check-0vfauCFM.js";import"./badge-IgYfdO9V.js";import"./separator-C07NZpcB.js";import"./card-jCh-kFsa.js";import"./clock-BrxB6LzT.js";import"./user-BQa4W926.js";import"./circle-check-big-DIrqNAJp.js";import"./circle-alert-BpGn1koC.js";import"./circle-x-CyllH9Co.js";import"./popover-BsjEzbmq.js";import"./calendar-BpC43bS3.js";function It({reports:n,filters:r,users:l}){const[s,a]=o.useState(r.search||""),[i,p]=o.useState(r.user?Number(r.user):null),[e,c]=o.useState(r.start_date?{from:new Date(r.start_date),to:r.end_date?new Date(r.end_date):void 0}:void 0),d=o.useRef(!0),x=I("inspections.administration");o.useEffect(()=>{if(d.current){d.current=!1;return}const m=setTimeout(()=>{y.get(route("inspections.index"),{search:s,user:i,start_date:e!=null&&e.from?u(e.from,"yyyy-MM-dd"):void 0,end_date:e!=null&&e.to?u(e.to,"yyyy-MM-dd"):void 0},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(m)},[s,i,e]);const h=[{title:"Inspections",href:route("inspections.index"),isCurrent:!0}],f=!!s||!!i||!!e,j=()=>{a(""),p(null),c(void 0)};return t.jsxs(C,{breadcrumbs:h,children:[t.jsx(v,{title:"Inspection History"}),t.jsxs("div",{className:"space-y-6 p-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Inspection History"}),t.jsx("p",{className:"text-muted-foreground",children:"Review previously completed inspection reports."})]})}),t.jsx("div",{className:"flex justify-between",children:t.jsx(b,{onSearch:a,searchPlaceholder:"Search by machine name...",children:t.jsx(N,{showUserFilter:x,users:l,selectedUser:i,onUserChange:p,selectedDate:e,onDateChange:c,isFiltered:f,onReset:j})})}),t.jsx(S,{items:n.data,renderCard:m=>t.jsx(w,{report:m})}),t.jsx(g,{paginated:n})]})]})}export{It as default};
