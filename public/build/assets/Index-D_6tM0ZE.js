import{r as o,S as f,j as e,L as b,$ as R}from"./app-CrM3bAr7.js";import{u as S,D as g,g as w}from"./data-table-DUdic_wO.js";import{B as C}from"./button-DSYtEUz-.js";import{A as y}from"./app-layout-CK9_8PlX.js";import{u as a}from"./useCan-CJh7wlIU.js";import{getColumns as T}from"./Columns-NUtSg2Iy.js";import{L as A}from"./list-toolbar-E0ROXguB.js";import{P as D}from"./pagination-Dz5UDBcr.js";import{D as L}from"./data-table-view-options-4_U_3RXz.js";import{C as N}from"./circle-plus-C35qyZhc.js";import"./utils-jAU0Cazi.js";import"./index-C7o-dAq6.js";import"./index-DZZQifJx.js";import"./index-BYkqkD9G.js";import"./index-DCk08MMz.js";import"./index-C07_Bs9F.js";import"./tslib.es6-CMwweBXX.js";import"./x-DprXbeJV.js";import"./createLucideIcon-BQ0uF5zu.js";import"./tooltip-DWc-CuE-.js";import"./index-ChLr_mRA.js";import"./index-CipIuUZM.js";import"./index-GEmL2IxC.js";import"./index-Dyr2mIP4.js";import"./index-6v8HNz3P.js";import"./floating-ui.react-dom-D6wYppxE.js";import"./index-fR5QWmBt.js";import"./index-rQBWhrbd.js";import"./index-Dd5Vhwor.js";import"./index-CFGBrPdz.js";import"./dropdown-menu-D615tSEK.js";import"./index-Cxnn9A7l.js";import"./check-BKXQxHa7.js";import"./user-avatar-CalEyW6r.js";import"./chevrons-up-down-CqP_Vf3P.js";import"./shield-check-0vfauCFM.js";import"./chevron-right-B5DMNuK2.js";import"./badge-IgYfdO9V.js";import"./separator-C07NZpcB.js";import"./data-table-column-header-B8b-xJ6_.js";import"./checkbox-XYYM_-Ow.js";import"./index-D9YkVoQb.js";import"./input-BwgTVrff.js";import"./select-ZNRTKmmh.js";import"./chevron-down-BZjTBYLj.js";import"./chevron-left-D6TzJdSq.js";const v=[{title:"Roles",href:"/roles"}];function Ce({roles:m,filters:s}){const[l,h]=o.useState(s.search||""),[t,p]=o.useState(s.sort?{id:s.sort,desc:s.direction==="desc"}:null),c=o.useRef(!0),i={create:a("roles.create"),edit:a("roles.edit"),delete:a("roles.delete")};function x(r){confirm("Are you sure you want to delete this role?")&&f.delete(route("roles.destroy",r))}o.useEffect(()=>{if(c.current){c.current=!1;return}const r=setTimeout(()=>{f.get(route("roles.index"),{search:l,sort:t==null?void 0:t.id,direction:t!=null&&t.desc?"desc":"asc"},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(r)},[l,t]);const j=(r,d)=>{p(d===null?null:{id:r,desc:d==="desc"})},n=o.useMemo(()=>T(i,x,j,t),[i,t]),u=S({data:m.data,columns:n,getCoreRowModel:w()});return e.jsxs(y,{breadcrumbs:v,children:[e.jsx(b,{title:"Roles"}),e.jsxs("div",{className:"space-y-4 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Roles"})}),e.jsx(A,{onSearch:h,searchPlaceholder:"Filter by name...",createAction:i.create?e.jsx(C,{asChild:!0,className:"drop-shadow-lg",children:e.jsxs(R,{href:route("roles.create"),children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Create Role"]})}):null,viewOptionsAction:e.jsx(L,{table:u})}),e.jsx(g,{table:u,columns:n}),e.jsx(D,{paginated:m})]})]})}export{Ce as default};
