import{m as f,r as g,j as e}from"./app-CrM3bAr7.js";import{I as n}from"./input-error-B-ImtbXT.js";import{B as d}from"./button-DSYtEUz-.js";import{D as j,a as v,b as k,c as _,d as D,e as b}from"./dialog-13Vh7iYP.js";import{L as m}from"./label-Dif50TA4.js";import{T as p}from"./textarea-BH7YRjF0.js";import{C}from"./circle-x-CyllH9Co.js";import{S as T}from"./send-WmHc0PdS.js";import"./utils-jAU0Cazi.js";import"./index-C7o-dAq6.js";import"./index-DZZQifJx.js";import"./index-BYkqkD9G.js";import"./index-DCk08MMz.js";import"./index-C07_Bs9F.js";import"./tslib.es6-CMwweBXX.js";import"./x-DprXbeJV.js";import"./createLucideIcon-BQ0uF5zu.js";function z({ticket:a,isOpen:s,onOpenChange:t}){const{data:i,setData:o,patch:u,processing:c,errors:l,reset:h}=f({action_taken:"",parts_used:""});g.useEffect(()=>{s&&h()},[s]);const x=r=>{r.preventDefault(),u(route("tickets.close",a.id),{onSuccess:()=>t(!1)})};return e.jsx(j,{open:s,onOpenChange:t,children:e.jsxs(v,{children:[e.jsxs(k,{children:[e.jsxs(_,{children:["Close Ticket #",a.id]}),e.jsx(D,{children:'Please provide the resolution details for this ticket. The "Action Taken" field is required.'})]}),e.jsxs("form",{id:"close-ticket-form",onSubmit:x,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"action_taken",children:"Action Taken (Required)"}),e.jsx(p,{id:"action_taken",value:i.action_taken,onChange:r=>o("action_taken",r.target.value),placeholder:"Describe the solution and the work performed...",required:!0,className:"ring-1 hover:bg-accent hover:ring-primary"}),e.jsx(n,{message:l.action_taken})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"parts_used",children:"Parts Used (Optional)"}),e.jsx(p,{id:"parts_used",value:i.parts_used,onChange:r=>o("parts_used",r.target.value),placeholder:"List any parts or materials used...",className:"ring-1 hover:bg-accent hover:ring-primary"}),e.jsx(n,{message:l.parts_used})]})]}),e.jsxs(b,{children:[e.jsxs(d,{className:"hover:bg-destructive hover:text-destructive-foreground",variant:"outline",onClick:()=>t(!1),children:[e.jsx(C,{}),"Cancel"]}),e.jsxs(d,{type:"submit",form:"close-ticket-form",disabled:c,children:[e.jsx(T,{}),c?"Closing...":"Close Ticket"]})]})]})})}export{z as CloseTicketModal};
