import{r as x,j as e,$ as f}from"./app-CrM3bAr7.js";import{B as r}from"./button-DSYtEUz-.js";import{C as j,a as g,b as u,c as N}from"./card-jCh-kFsa.js";import{I as w}from"./image-viewer-modal-4ByfuxrQ.js";import{c as p}from"./createLucideIcon-BQ0uF5zu.js";import{F as d}from"./file-text-DOW8uveb.js";import{W as v}from"./wrench-D9uW3F3T.js";import{L as y}from"./list-checks-Cx3y6fsu.js";import{D as b}from"./download-Bs0UjOXf.js";import"./index-C7o-dAq6.js";import"./index-DZZQifJx.js";import"./utils-jAU0Cazi.js";import"./dialog-13Vh7iYP.js";import"./index-BYkqkD9G.js";import"./index-DCk08MMz.js";import"./index-C07_Bs9F.js";import"./tslib.es6-CMwweBXX.js";import"./x-DprXbeJV.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],C=p("Flag",_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],F=p("Image",I);function q({ticket:s}){var n,o,l,m,c;const[h,a]=x.useState(!1),i=(n=s.inspection_item)==null?void 0:n.image_url,t=(o=s.inspection_item)==null?void 0:o.inspection_report_id;return e.jsxs(e.Fragment,{children:[e.jsxs(j,{className:"overflow-hidden border-0 shadow-lg drop-shadow-lg transition-transform ease-in-out hover:-translate-y-1",children:[e.jsx(g,{children:e.jsx(u,{children:"Ticket Details"})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[i&&e.jsxs("div",{className:"relative h-48 w-full shrink-0 sm:w-48",children:[e.jsx("img",{src:i,alt:"Inspection photo",className:"h-full w-full rounded-md object-cover"}),e.jsxs(r,{size:"sm",className:"absolute right-2 bottom-2",onClick:()=>a(!0),children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"View"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s.title}),e.jsxs("div",{className:"flex items-start gap-2 rounded-lg bg-muted p-3",children:[e.jsx(d,{className:"mt-1 h-4 w-4 shrink-0"}),e.jsx("p",{className:"text-muted-foreground",children:s.description||"No description provided."})]})]})]}),e.jsxs("div",{className:"space-y-2 rounded-md border p-4 shadow-lg drop-shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-semibold",children:"Machine:"}),e.jsx("span",{children:s.machine.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-semibold",children:"Subsystem:"}),e.jsx("span",{children:(l=s.inspection_item)==null?void 0:l.point.subsystem.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-semibold",children:"Inspection Point:"}),e.jsx("span",{children:(m=s.inspection_item)==null?void 0:m.point.name})]}),((c=s.inspection_item)==null?void 0:c.point.description)&&e.jsxs("div",{className:"mt-2 flex items-start gap-2 border-t pt-2",children:[e.jsx(d,{className:"mt-1 h-4 w-4 shrink-0 text-muted-foreground"}),e.jsxs("p",{className:"text-sm text-muted-foreground italic",children:['"',s.inspection_item.point.description,'"']})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[t&&e.jsx(r,{variant:"outline",asChild:!0,children:e.jsx(f,{href:route("inspections.show",t),children:"View Full Inspection Report"})}),e.jsx(r,{asChild:!0,children:e.jsxs("a",{href:route("tickets.pdf",s.id),target:"_blank",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Download PDF"]})})]})]})]}),e.jsx(w,{isOpen:h,onOpenChange:a,imageUrl:i||"",imageAlt:`Photo for ticket #${s.id}`})]})}export{q as FullDetailsCard};
