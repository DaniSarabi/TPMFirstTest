import{r as u,j as c,t as $,m as L,L as I}from"./app-CrM3bAr7.js";import{S as M,H as T}from"./layout-B1DmhmTb.js";import{B as O}from"./button-DSYtEUz-.js";import{C as D,a as U,b as F,d as W,c as q}from"./card-jCh-kFsa.js";import{L as H}from"./label-Dif50TA4.js";import"./index-DCk08MMz.js";import{c as X}from"./index-C7o-dAq6.js";import{c as C}from"./utils-jAU0Cazi.js";import{A as G}from"./app-layout-CK9_8PlX.js";import{S as J}from"./send-WmHc0PdS.js";import"./heading-BlBufu9I.js";import"./separator-C07NZpcB.js";import"./index-GEmL2IxC.js";import"./index-DZZQifJx.js";import"./index-BYkqkD9G.js";import"./index-C07_Bs9F.js";import"./tslib.es6-CMwweBXX.js";import"./x-DprXbeJV.js";import"./createLucideIcon-BQ0uF5zu.js";import"./tooltip-DWc-CuE-.js";import"./index-ChLr_mRA.js";import"./index-CipIuUZM.js";import"./index-Dyr2mIP4.js";import"./index-6v8HNz3P.js";import"./floating-ui.react-dom-D6wYppxE.js";import"./index-fR5QWmBt.js";import"./index-rQBWhrbd.js";import"./index-Dd5Vhwor.js";import"./index-CFGBrPdz.js";import"./dropdown-menu-D615tSEK.js";import"./index-Cxnn9A7l.js";import"./check-BKXQxHa7.js";import"./user-avatar-CalEyW6r.js";import"./chevrons-up-down-CqP_Vf3P.js";import"./shield-check-0vfauCFM.js";import"./chevron-right-B5DMNuK2.js";import"./badge-IgYfdO9V.js";function K(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function y(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Q(...e){return t=>{let r=!1;const a=e.map(o=>{const n=y(o,t);return!r&&typeof n=="function"&&(r=!0),n});if(r)return()=>{for(let o=0;o<a.length;o++){const n=a[o];typeof n=="function"?n():y(e[o],null)}}}}function j(...e){return u.useCallback(Q(...e),e)}function V(e,t=[]){let r=[];function a(n,i){const s=u.createContext(i),l=r.length;r=[...r,i];const f=d=>{var v;const{scope:m,children:h,...b}=d,x=((v=m==null?void 0:m[e])==null?void 0:v[l])||s,S=u.useMemo(()=>b,Object.values(b));return c.jsx(x.Provider,{value:S,children:h})};f.displayName=n+"Provider";function p(d,m){var x;const h=((x=m==null?void 0:m[e])==null?void 0:x[l])||s,b=u.useContext(h);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${n}\``)}return[f,p]}const o=()=>{const n=r.map(i=>u.createContext(i));return function(s){const l=(s==null?void 0:s[e])||n;return u.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return o.scopeName=e,[a,Y(o,...t)]}function Y(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(n){const i=a.reduce((s,{useScope:l,scopeName:f})=>{const d=l(n)[`__scope${f}`];return{...s,...d}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var k=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},Z=$[" useInsertionEffect ".trim().toString()]||k;function ee({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[o,n,i]=te({defaultProp:t,onChange:r}),s=e!==void 0,l=s?e:o;{const p=u.useRef(e!==void 0);u.useEffect(()=>{const d=p.current;d!==s&&console.warn(`${a} is changing from ${d?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=s},[s,a])}const f=u.useCallback(p=>{var d;if(s){const m=re(p)?p(e):p;m!==e&&((d=i.current)==null||d.call(i,m))}else n(p)},[s,e,n,i]);return[l,f]}function te({defaultProp:e,onChange:t}){const[r,a]=u.useState(e),o=u.useRef(r),n=u.useRef(t);return Z(()=>{n.current=t},[t]),u.useEffect(()=>{var i;o.current!==r&&((i=n.current)==null||i.call(n,r),o.current=r)},[r,o]),[r,a,n]}function re(e){return typeof e=="function"}function oe(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function ne(e){const[t,r]=u.useState(void 0);return k(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const n=o[0];let i,s;if("borderBoxSize"in n){const l=n.borderBoxSize,f=Array.isArray(l)?l[0]:l;i=f.inlineSize,s=f.blockSize}else i=e.offsetWidth,s=e.offsetHeight;r({width:i,height:s})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var se=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],N=se.reduce((e,t)=>{const r=X(`Primitive.${t}`),a=u.forwardRef((o,n)=>{const{asChild:i,...s}=o,l=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...s,ref:n})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),g="Switch",[ie,Ve]=V(g),[ce,ae]=ie(g),P=u.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:o,defaultChecked:n,required:i,disabled:s,value:l="on",onCheckedChange:f,form:p,...d}=e,[m,h]=u.useState(null),b=j(t,w=>h(w)),x=u.useRef(!1),S=m?p||!!m.closest("form"):!0,[v,B]=ee({prop:o,defaultProp:n??!1,onChange:f,caller:g});return c.jsxs(ce,{scope:r,checked:v,disabled:s,children:[c.jsx(N.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":z(v),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:b,onClick:K(e.onClick,w=>{B(A=>!A),S&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),S&&c.jsx(E,{control:m,bubbles:!x.current,name:a,value:l,checked:v,required:i,disabled:s,form:p,style:{transform:"translateX(-100%)"}})]})});P.displayName=g;var R="SwitchThumb",_=u.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,o=ae(R,r);return c.jsx(N.span,{"data-state":z(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})});_.displayName=R;var ue="SwitchBubbleInput",E=u.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...o},n)=>{const i=u.useRef(null),s=j(i,n),l=oe(r),f=ne(t);return u.useEffect(()=>{const p=i.current;if(!p)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&h){const b=new Event("click",{bubbles:a});h.call(p,r),p.dispatchEvent(b)}},[l,r,a]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:s,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});E.displayName=ue;function z(e){return e?"checked":"unchecked"}var de=P,le=_;function fe({className:e,...t}){return c.jsx(de,{"data-slot":"switch",className:C("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-gray-500 focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:c.jsx(le,{"data-slot":"switch-thumb",className:C("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const pe=[{title:"Settings",href:"/settings/profile"},{title:"Notifications",href:"/settings/notifications",isCurrent:!0}];function Ye({allNotificationTypes:e,userPreferences:t}){const{data:r,setData:a,patch:o,processing:n,errors:i}=L({preferences:t}),s=(f,p)=>{let d=new Set(r.preferences);p?d.add(f):d.delete(f),a("preferences",Array.from(d))},l=f=>{f.preventDefault(),o(route("profile.notifications.update"))};return c.jsxs(G,{breadcrumbs:pe,children:[c.jsx(I,{title:"Notification settings"}),c.jsx(M,{children:c.jsxs("div",{className:"space-y-6 ",children:[c.jsx(T,{title:"In-App Notifications",description:"Select which in-app notifications you would like to receive in the notification bell."}),c.jsxs("form",{onSubmit:l,children:[c.jsxs(D,{className:"drop-shadow-lg shadow",children:[c.jsxs(U,{children:[c.jsx(F,{children:"Notification Preferences"}),c.jsx(W,{children:"Choose the events you want to be notified about."})]}),c.jsx(q,{className:"space-y-6",children:Object.entries(e).map(([f,p])=>c.jsxs("div",{className:"",children:[c.jsx("h3",{className:"mb-4 text-lg font-medium rounded-lg bg-primary text-primary-foreground p-2 pl-4",children:f}),c.jsx("div",{className:"space-y-4",children:Object.entries(p).map(([d,m])=>c.jsxs("div",{className:"drop-shadow-lg shadow-lg  flex items-center justify-between rounded-lg border p-4 hover:bg-accent",children:[c.jsx("div",{className:"space-y-0.5",children:c.jsx(H,{htmlFor:d,className:"text-base",children:m})}),c.jsx(fe,{id:d,checked:r.preferences.includes(d),onCheckedChange:h=>s(d,h),className:"bg-accent text-accent"})]},d))})]},f))})]}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsxs(O,{type:"submit",disabled:n,children:[c.jsx(J,{}),n?"Saving...":"Save Preferences"]})})]})]})})]})}export{Ye as default};
