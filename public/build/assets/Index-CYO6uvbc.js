import{r as e,S as u,j as t,L as C}from"./app-CrM3bAr7.js";import{C as S}from"./card-grid-BPRpDGo_.js";import{P as M}from"./pagination-Dz5UDBcr.js";import{B as g}from"./button-DSYtEUz-.js";import{A as F}from"./app-layout-CK9_8PlX.js";import{u as r}from"./useCan-CJh7wlIU.js";import{CreateMachineWizard as I}from"./CreateMachineWizard-_4DZnPDU.js";import{MachineCard as O}from"./MachineCard-CkKyFBxo.js";import{MachineListToolbar as b}from"./MachineListToolbar-CawZMUKG.js";import{C as y}from"./circle-plus-C35qyZhc.js";import"./select-ZNRTKmmh.js";import"./index-DCk08MMz.js";import"./index-ChLr_mRA.js";import"./index-CipIuUZM.js";import"./index-Cxnn9A7l.js";import"./index-Dyr2mIP4.js";import"./index-GEmL2IxC.js";import"./index-6v8HNz3P.js";import"./floating-ui.react-dom-D6wYppxE.js";import"./index-fR5QWmBt.js";import"./index-rQBWhrbd.js";import"./index-D9YkVoQb.js";import"./index-CFGBrPdz.js";import"./index-C07_Bs9F.js";import"./tslib.es6-CMwweBXX.js";import"./utils-jAU0Cazi.js";import"./chevron-down-BZjTBYLj.js";import"./createLucideIcon-BQ0uF5zu.js";import"./check-BKXQxHa7.js";import"./chevron-left-D6TzJdSq.js";import"./chevron-right-B5DMNuK2.js";import"./index-C7o-dAq6.js";import"./index-DZZQifJx.js";import"./index-BYkqkD9G.js";import"./x-DprXbeJV.js";import"./tooltip-DWc-CuE-.js";import"./index-Dd5Vhwor.js";import"./dropdown-menu-D615tSEK.js";import"./user-avatar-CalEyW6r.js";import"./chevrons-up-down-CqP_Vf3P.js";import"./shield-check-0vfauCFM.js";import"./badge-IgYfdO9V.js";import"./separator-C07NZpcB.js";import"./dialog-13Vh7iYP.js";import"./input-BwgTVrff.js";import"./label-Dif50TA4.js";import"./textarea-BH7YRjF0.js";import"./wrench-D9uW3F3T.js";import"./list-checks-Cx3y6fsu.js";import"./calendar-BpC43bS3.js";import"./clock-BrxB6LzT.js";import"./MachineStatusFilter-_MnZM5Pr.js";import"./popover-BsjEzbmq.js";const T=[{title:"Machines",href:route("machines.index")}];function Lt({machines:o,filters:a,machineStatuses:l}){const[w,z]=e.useState(!1),[A,L]=e.useState(null),[h,m]=e.useState(!1),[n,d]=e.useState(a.search||""),[i,f]=e.useState(new Set(a.statuses||[])),p=r("machines.create"),c=e.useRef(!0);e.useEffect(()=>{if(c.current){c.current=!1;return}const s=Array.from(i),j=setTimeout(()=>{u.get(route("machines.index"),{search:n,statuses:s},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(j)},[n,i]),r("machines.create"),r("machines.edit"),r("machines.delete");function x(){u.reload({only:["machines"]})}return t.jsxs(F,{breadcrumbs:T,children:[t.jsx(C,{title:"Machines"}),t.jsxs("div",{className:"space-y-4 p-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("h1",{className:"text-2xl font-bold",children:"Machine Management"})}),t.jsx(b,{onSearch:d,statuses:l,statusFilterValues:i,onStatusFilterChange:f,createAction:p?t.jsxs(g,{onClick:()=>m(!0),children:[t.jsx(y,{className:"h-4 w-4"}),"Create Machine"]}):null}),t.jsx(S,{items:o.data,renderCard:s=>t.jsx(O,{machine:s})}),t.jsx(M,{paginated:o})]}),p&&t.jsx(I,{isOpen:h,onOpenChange:m,onFinish:x})," "]})}export{Lt as default};
