import{r as a,j as h}from"./app-CrM3bAr7.js";import{c as H}from"./index-ChLr_mRA.js";import{u as B,P as O,d as Oe}from"./index-GEmL2IxC.js";import{u as W}from"./index-CipIuUZM.js";import{a as Re,o as De,s as Se,f as Le,b as Ne,c as _e,h as Te,l as Be,d as We}from"./floating-ui.react-dom-D6wYppxE.js";import{c as je}from"./index-Dyr2mIP4.js";import{u as I}from"./index-fR5QWmBt.js";import{u as Fe}from"./index-rQBWhrbd.js";import{R as He}from"./index-DCk08MMz.js";function Ie(e,t=globalThis==null?void 0:globalThis.document){const o=W(e);a.useEffect(()=>{const n=r=>{r.key==="Escape"&&o(r)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[o,t])}var $e="DismissableLayer",$="dismissableLayer.update",Me="dismissableLayer.pointerDownOutside",ke="dismissableLayer.focusOutside",V,te=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ue=a.forwardRef((e,t)=>{const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:i,onDismiss:d,...p}=e,c=a.useContext(te),[u,g]=a.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=a.useState({}),v=B(t,l=>g(l)),m=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),P=m.indexOf(b),E=u?m.indexOf(u):-1,j=c.layersWithOutsidePointerEventsDisabled.size>0,A=E>=P,F=Xe(l=>{const w=l.target,S=[...c.branches].some(R=>R.contains(w));!A||S||(r==null||r(l),i==null||i(l),l.defaultPrevented||d==null||d())},f),y=Ke(l=>{const w=l.target;[...c.branches].some(R=>R.contains(w))||(s==null||s(l),i==null||i(l),l.defaultPrevented||d==null||d())},f);return Ie(l=>{E===c.layers.size-1&&(n==null||n(l),!l.defaultPrevented&&d&&(l.preventDefault(),d()))},f),a.useEffect(()=>{if(u)return o&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(V=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),ee(),()=>{o&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=V)}},[u,f,o,c]),a.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),ee())},[u,c]),a.useEffect(()=>{const l=()=>x({});return document.addEventListener($,l),()=>document.removeEventListener($,l)},[]),h.jsx(O.div,{...p,ref:v,style:{pointerEvents:j?A?"auto":"none":void 0,...e.style},onFocusCapture:H(e.onFocusCapture,y.onFocusCapture),onBlurCapture:H(e.onBlurCapture,y.onBlurCapture),onPointerDownCapture:H(e.onPointerDownCapture,F.onPointerDownCapture)})});Ue.displayName=$e;var Ye="DismissableLayerBranch",ze=a.forwardRef((e,t)=>{const o=a.useContext(te),n=a.useRef(null),r=B(t,n);return a.useEffect(()=>{const s=n.current;if(s)return o.branches.add(s),()=>{o.branches.delete(s)}},[o.branches]),h.jsx(O.div,{...e,ref:r})});ze.displayName=Ye;function Xe(e,t=globalThis==null?void 0:globalThis.document){const o=W(e),n=a.useRef(!1),r=a.useRef(()=>{});return a.useEffect(()=>{const s=d=>{if(d.target&&!n.current){let p=function(){re(Me,o,c,{discrete:!0})};const c={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=p,t.addEventListener("click",r.current,{once:!0})):p()}else t.removeEventListener("click",r.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,o]),{onPointerDownCapture:()=>n.current=!0}}function Ke(e,t=globalThis==null?void 0:globalThis.document){const o=W(e),n=a.useRef(!1);return a.useEffect(()=>{const r=s=>{s.target&&!n.current&&re(ke,o,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,o]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ee(){const e=new CustomEvent($);document.dispatchEvent(e)}function re(e,t,o,{discrete:n}){const r=o.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:o});t&&r.addEventListener(e,t,{once:!0}),n?Oe(r,s):r.dispatchEvent(s)}var Ze="Arrow",ne=a.forwardRef((e,t)=>{const{children:o,width:n=10,height:r=5,...s}=e;return h.jsx(O.svg,{...s,ref:t,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?o:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});ne.displayName=Ze;var qe=ne,M="Popper",[oe,ft]=je(M),[Ge,se]=oe(M),ae=e=>{const{__scopePopper:t,children:o}=e,[n,r]=a.useState(null);return h.jsx(Ge,{scope:t,anchor:n,onAnchorChange:r,children:o})};ae.displayName=M;var ie="PopperAnchor",ce=a.forwardRef((e,t)=>{const{__scopePopper:o,virtualRef:n,...r}=e,s=se(ie,o),i=a.useRef(null),d=B(t,i);return a.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:h.jsx(O.div,{...r,ref:d})});ce.displayName=ie;var k="PopperContent",[Je,Qe]=oe(k),de=a.forwardRef((e,t)=>{var X,K,Z,q,G,J;const{__scopePopper:o,side:n="bottom",sideOffset:r=0,align:s="center",alignOffset:i=0,arrowPadding:d=0,avoidCollisions:p=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:g="partial",hideWhenDetached:f=!1,updatePositionStrategy:x="optimized",onPlaced:v,...m}=e,b=se(k,o),[P,E]=a.useState(null),j=B(t,D=>E(D)),[A,F]=a.useState(null),y=Fe(A),l=(y==null?void 0:y.width)??0,w=(y==null?void 0:y.height)??0,S=n+(s!=="center"?"-"+s:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},U=Array.isArray(c)?c:[c],fe=U.length>0,L={padding:R,boundary:U.filter(et),altBoundary:fe},{refs:he,floatingStyles:Y,placement:me,isPositioned:N,middlewareData:C}=Re({strategy:"fixed",placement:S,whileElementsMounted:(...D)=>We(...D,{animationFrame:x==="always"}),elements:{reference:b.anchor},middleware:[De({mainAxis:r+w,alignmentAxis:i}),p&&Se({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Be():void 0,...L}),p&&Le({...L}),Ne({...L,apply:({elements:D,rects:Q,availableWidth:xe,availableHeight:be})=>{const{width:Ae,height:Ce}=Q.reference,T=D.floating.style;T.setProperty("--radix-popper-available-width",`${xe}px`),T.setProperty("--radix-popper-available-height",`${be}px`),T.setProperty("--radix-popper-anchor-width",`${Ae}px`),T.setProperty("--radix-popper-anchor-height",`${Ce}px`)}}),A&&_e({element:A,padding:d}),tt({arrowWidth:l,arrowHeight:w}),f&&Te({strategy:"referenceHidden",...L})]}),[z,ve]=pe(me),_=W(v);I(()=>{N&&(_==null||_())},[N,_]);const ye=(X=C.arrow)==null?void 0:X.x,ge=(K=C.arrow)==null?void 0:K.y,Pe=((Z=C.arrow)==null?void 0:Z.centerOffset)!==0,[Ee,we]=a.useState();return I(()=>{P&&we(window.getComputedStyle(P).zIndex)},[P]),h.jsx("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:N?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(q=C.transformOrigin)==null?void 0:q.x,(G=C.transformOrigin)==null?void 0:G.y].join(" "),...((J=C.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:h.jsx(Je,{scope:o,placedSide:z,onArrowChange:F,arrowX:ye,arrowY:ge,shouldHideArrow:Pe,children:h.jsx(O.div,{"data-side":z,"data-align":ve,...m,ref:j,style:{...m.style,animation:N?void 0:"none"}})})})});de.displayName=k;var le="PopperArrow",Ve={top:"bottom",right:"left",bottom:"top",left:"right"},ue=a.forwardRef(function(t,o){const{__scopePopper:n,...r}=t,s=Qe(le,n),i=Ve[s.placedSide];return h.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:h.jsx(qe,{...r,ref:o,style:{...r.style,display:"block"}})})});ue.displayName=le;function et(e){return e!==null}var tt=e=>({name:"transformOrigin",options:e,fn(t){var b,P,E;const{placement:o,rects:n,middlewareData:r}=t,i=((b=r.arrow)==null?void 0:b.centerOffset)!==0,d=i?0:e.arrowWidth,p=i?0:e.arrowHeight,[c,u]=pe(o),g={start:"0%",center:"50%",end:"100%"}[u],f=(((P=r.arrow)==null?void 0:P.x)??0)+d/2,x=(((E=r.arrow)==null?void 0:E.y)??0)+p/2;let v="",m="";return c==="bottom"?(v=i?g:`${f}px`,m=`${-p}px`):c==="top"?(v=i?g:`${f}px`,m=`${n.floating.height+p}px`):c==="right"?(v=`${-p}px`,m=i?g:`${x}px`):c==="left"&&(v=`${n.floating.width+p}px`,m=i?g:`${x}px`),{data:{x:v,y:m}}}});function pe(e){const[t,o="center"]=e.split("-");return[t,o]}var ht=ae,mt=ce,vt=de,yt=ue,rt="Portal",nt=a.forwardRef((e,t)=>{var d;const{container:o,...n}=e,[r,s]=a.useState(!1);I(()=>s(!0),[]);const i=o||r&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return i?He.createPortal(h.jsx(O.div,{...n,ref:t}),i):null});nt.displayName=rt;export{mt as A,vt as C,Ue as D,nt as P,ht as R,yt as a,ft as c};
