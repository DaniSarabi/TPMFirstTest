import{r as f,j as w,t as Ge,U as y,g as Je,m as Qe,S as et}from"./app-CrM3bAr7.js";import{I as tt}from"./input-error-B-ImtbXT.js";import{B as rt}from"./button-DSYtEUz-.js";import{C as ot,a as nt,b as it,d as at,c as st}from"./card-jCh-kFsa.js";import{I as ct}from"./input-BwgTVrff.js";import{L as J}from"./label-Dif50TA4.js";import"./index-DCk08MMz.js";import{c as ie}from"./index-C7o-dAq6.js";import{c as Q}from"./utils-jAU0Cazi.js";import{U as ut}from"./user-avatar-CalEyW6r.js";import{c as lt,_ as P}from"./tslib.es6-CMwweBXX.js";import{S as dt}from"./send-WmHc0PdS.js";import"./index-DZZQifJx.js";import"./index-Dyr2mIP4.js";import"./index-CipIuUZM.js";import"./index-fR5QWmBt.js";import"./index-GEmL2IxC.js";import"./createLucideIcon-BQ0uF5zu.js";function ze(t,[o,e]){return Math.min(e,Math.max(o,t))}function O(t,o,{checkForDefaultPrevented:e=!0}={}){return function(n){if(t==null||t(n),e===!1||!n.defaultPrevented)return o==null?void 0:o(n)}}function ge(t,o){if(typeof t=="function")return t(o);t!=null&&(t.current=o)}function ft(...t){return o=>{let e=!1;const r=t.map(n=>{const i=ge(n,o);return!e&&typeof i=="function"&&(e=!0),i});if(e)return()=>{for(let n=0;n<r.length;n++){const i=r[n];typeof i=="function"?i():ge(t[n],null)}}}}function A(...t){return f.useCallback(ft(...t),t)}function Ae(t,o=[]){let e=[];function r(i,a){const s=f.createContext(a),c=e.length;e=[...e,a];const u=d=>{var v;const{scope:p,children:x,...b}=d,g=((v=p==null?void 0:p[t])==null?void 0:v[c])||s,h=f.useMemo(()=>b,Object.values(b));return w.jsx(g.Provider,{value:h,children:x})};u.displayName=i+"Provider";function l(d,p){var g;const x=((g=p==null?void 0:p[t])==null?void 0:g[c])||s,b=f.useContext(x);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,l]}const n=()=>{const i=e.map(a=>f.createContext(a));return function(s){const c=(s==null?void 0:s[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...s,[t]:c}}),[s,c])}};return n.scopeName=t,[r,ht(n,...o)]}function ht(...t){const o=t[0];if(t.length===1)return o;const e=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const a=r.reduce((s,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...s,...d}},{});return f.useMemo(()=>({[`__scope${o.scopeName}`]:a}),[a])}};return e.scopeName=o.scopeName,e}var Ie=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},pt=Ge[" useInsertionEffect ".trim().toString()]||Ie;function mt({prop:t,defaultProp:o,onChange:e=()=>{},caller:r}){const[n,i,a]=vt({defaultProp:o,onChange:e}),s=t!==void 0,c=s?t:n;{const l=f.useRef(t!==void 0);f.useEffect(()=>{const d=l.current;d!==s&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),l.current=s},[s,r])}const u=f.useCallback(l=>{var d;if(s){const p=gt(l)?l(t):l;p!==t&&((d=a.current)==null||d.call(a,p))}else i(l)},[s,t,i,a]);return[c,u]}function vt({defaultProp:t,onChange:o}){const[e,r]=f.useState(t),n=f.useRef(e),i=f.useRef(o);return pt(()=>{i.current=o},[o]),f.useEffect(()=>{var a;n.current!==e&&((a=i.current)==null||a.call(i,e),n.current=e)},[e,n]),[e,r,i]}function gt(t){return typeof t=="function"}var wt=f.createContext(void 0);function xt(t){const o=f.useContext(wt);return t||o||"ltr"}function Ct(t){const o=f.useRef({value:t,previous:t});return f.useMemo(()=>(o.current.value!==t&&(o.current.previous=o.current.value,o.current.value=t),o.current.previous),[t])}function bt(t){const[o,e]=f.useState(void 0);return Ie(()=>{if(t){e({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let a,s;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,s=u.blockSize}else a=t.offsetWidth,s=t.offsetHeight;e({width:a,height:s})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else e(void 0)},[t]),o}var St=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],H=St.reduce((t,o)=>{const e=ie(`Primitive.${o}`),r=f.forwardRef((n,i)=>{const{asChild:a,...s}=n,c=a?e:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(c,{...s,ref:i})});return r.displayName=`Primitive.${o}`,{...t,[o]:r}},{});function yt(t){const o=t+"CollectionProvider",[e,r]=Ae(o),[n,i]=e(o,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:h,children:v}=g,C=y.useRef(null),m=y.useRef(new Map).current;return w.jsx(n,{scope:h,itemMap:m,collectionRef:C,children:v})};a.displayName=o;const s=t+"CollectionSlot",c=ie(s),u=y.forwardRef((g,h)=>{const{scope:v,children:C}=g,m=i(s,v),S=A(h,m.collectionRef);return w.jsx(c,{ref:S,children:C})});u.displayName=s;const l=t+"CollectionItemSlot",d="data-radix-collection-item",p=ie(l),x=y.forwardRef((g,h)=>{const{scope:v,children:C,...m}=g,S=y.useRef(null),_=A(h,S),E=i(l,v);return y.useEffect(()=>(E.itemMap.set(S,{ref:S,...m}),()=>void E.itemMap.delete(S))),w.jsx(p,{[d]:"",ref:_,children:C})});x.displayName=l;function b(g){const h=i(t+"CollectionConsumer",g);return y.useCallback(()=>{const C=h.collectionRef.current;if(!C)return[];const m=Array.from(C.querySelectorAll(`[${d}]`));return Array.from(h.itemMap.values()).sort((E,I)=>m.indexOf(E.ref.current)-m.indexOf(I.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:a,Slot:u,ItemSlot:x},b,r]}var Ne=["PageUp","PageDown"],Te=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],je={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},W="Slider",[ae,_t,Rt]=yt(W),[Oe,Yr]=Ae(W,[Rt]),[Et,Y]=Oe(W),Le=f.forwardRef((t,o)=>{const{name:e,min:r=0,max:n=100,step:i=1,orientation:a="horizontal",disabled:s=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:l,onValueChange:d=()=>{},onValueCommit:p=()=>{},inverted:x=!1,form:b,...g}=t,h=f.useRef(new Set),v=f.useRef(0),m=a==="horizontal"?Dt:Pt,[S=[],_]=mt({prop:l,defaultProp:u,onChange:R=>{var T;(T=[...h.current][v.current])==null||T.focus(),d(R)}}),E=f.useRef(S);function I(R){const z=Nt(S,R);M(R,z)}function $(R){M(R,v.current)}function Z(){const R=E.current[v.current];S[v.current]!==R&&p(S)}function M(R,z,{commit:T}={commit:!1}){const me=Lt(i),G=Wt(Math.round((R-r)/i)*i+r,me),k=ze(G,[r,n]);_((j=[])=>{const N=At(j,k,z);if(Ot(N,c*i)){v.current=N.indexOf(k);const ve=String(N)!==String(j);return ve&&T&&p(N),ve?N:j}else return j})}return w.jsx(Et,{scope:t.__scopeSlider,name:e,disabled:s,min:r,max:n,valueIndexToChangeRef:v,thumbs:h.current,values:S,orientation:a,form:b,children:w.jsx(ae.Provider,{scope:t.__scopeSlider,children:w.jsx(ae.Slot,{scope:t.__scopeSlider,children:w.jsx(m,{"aria-disabled":s,"data-disabled":s?"":void 0,...g,ref:o,onPointerDown:O(g.onPointerDown,()=>{s||(E.current=S)}),min:r,max:n,inverted:x,onSlideStart:s?void 0:I,onSlideMove:s?void 0:$,onSlideEnd:s?void 0:Z,onHomeKeyDown:()=>!s&&M(r,0,{commit:!0}),onEndKeyDown:()=>!s&&M(n,S.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:z})=>{if(!s){const G=Ne.includes(R.key)||R.shiftKey&&Te.includes(R.key)?10:1,k=v.current,j=S[k],N=i*G*z;M(j+N,k,{commit:!0})}}})})})})});Le.displayName=W;var[We,ke]=Oe(W,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Dt=f.forwardRef((t,o)=>{const{min:e,max:r,dir:n,inverted:i,onSlideStart:a,onSlideMove:s,onSlideEnd:c,onStepKeyDown:u,...l}=t,[d,p]=f.useState(null),x=A(o,m=>p(m)),b=f.useRef(void 0),g=xt(n),h=g==="ltr",v=h&&!i||!h&&i;function C(m){const S=b.current||d.getBoundingClientRect(),_=[0,S.width],I=he(_,v?[e,r]:[r,e]);return b.current=S,I(m-S.left)}return w.jsx(We,{scope:t.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:w.jsx(Fe,{dir:g,"data-orientation":"horizontal",...l,ref:x,style:{...l.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:m=>{const S=C(m.clientX);a==null||a(S)},onSlideMove:m=>{const S=C(m.clientX);s==null||s(S)},onSlideEnd:()=>{b.current=void 0,c==null||c()},onStepKeyDown:m=>{const _=je[v?"from-left":"from-right"].includes(m.key);u==null||u({event:m,direction:_?-1:1})}})})}),Pt=f.forwardRef((t,o)=>{const{min:e,max:r,inverted:n,onSlideStart:i,onSlideMove:a,onSlideEnd:s,onStepKeyDown:c,...u}=t,l=f.useRef(null),d=A(o,l),p=f.useRef(void 0),x=!n;function b(g){const h=p.current||l.current.getBoundingClientRect(),v=[0,h.height],m=he(v,x?[r,e]:[e,r]);return p.current=h,m(g-h.top)}return w.jsx(We,{scope:t.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:w.jsx(Fe,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const h=b(g.clientY);i==null||i(h)},onSlideMove:g=>{const h=b(g.clientY);a==null||a(h)},onSlideEnd:()=>{p.current=void 0,s==null||s()},onStepKeyDown:g=>{const v=je[x?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:v?-1:1})}})})}),Fe=f.forwardRef((t,o)=>{const{__scopeSlider:e,onSlideStart:r,onSlideMove:n,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:c,...u}=t,l=Y(W,e);return w.jsx(H.span,{...u,ref:o,onKeyDown:O(t.onKeyDown,d=>{d.key==="Home"?(a(d),d.preventDefault()):d.key==="End"?(s(d),d.preventDefault()):Ne.concat(Te).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:O(t.onPointerDown,d=>{const p=d.target;p.setPointerCapture(d.pointerId),d.preventDefault(),l.thumbs.has(p)?p.focus():r(d)}),onPointerMove:O(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&n(d)}),onPointerUp:O(t.onPointerUp,d=>{const p=d.target;p.hasPointerCapture(d.pointerId)&&(p.releasePointerCapture(d.pointerId),i(d))})})}),Be="SliderTrack",Ue=f.forwardRef((t,o)=>{const{__scopeSlider:e,...r}=t,n=Y(Be,e);return w.jsx(H.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...r,ref:o})});Ue.displayName=Be;var se="SliderRange",He=f.forwardRef((t,o)=>{const{__scopeSlider:e,...r}=t,n=Y(se,e),i=ke(se,e),a=f.useRef(null),s=A(o,a),c=n.values.length,u=n.values.map(p=>Ve(p,n.min,n.max)),l=c>1?Math.min(...u):0,d=100-Math.max(...u);return w.jsx(H.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...r,ref:s,style:{...t.style,[i.startEdge]:l+"%",[i.endEdge]:d+"%"}})});He.displayName=se;var ce="SliderThumb",Ze=f.forwardRef((t,o)=>{const e=_t(t.__scopeSlider),[r,n]=f.useState(null),i=A(o,s=>n(s)),a=f.useMemo(()=>r?e().findIndex(s=>s.ref.current===r):-1,[e,r]);return w.jsx(Mt,{...t,ref:i,index:a})}),Mt=f.forwardRef((t,o)=>{const{__scopeSlider:e,index:r,name:n,...i}=t,a=Y(ce,e),s=ke(ce,e),[c,u]=f.useState(null),l=A(o,C=>u(C)),d=c?a.form||!!c.closest("form"):!0,p=bt(c),x=a.values[r],b=x===void 0?0:Ve(x,a.min,a.max),g=It(r,a.values.length),h=p==null?void 0:p[s.size],v=h?Tt(h,b,s.direction):0;return f.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),w.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${b}% + ${v}px)`},children:[w.jsx(ae.ItemSlot,{scope:t.__scopeSlider,children:w.jsx(H.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":a.min,"aria-valuenow":x,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:l,style:x===void 0?{display:"none"}:t.style,onFocus:O(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),d&&w.jsx(Ke,{name:n??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:x},r)]})});Ze.displayName=ce;var zt="RadioBubbleInput",Ke=f.forwardRef(({__scopeSlider:t,value:o,...e},r)=>{const n=f.useRef(null),i=A(n,r),a=Ct(o);return f.useEffect(()=>{const s=n.current;if(!s)return;const c=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==o&&l){const d=new Event("input",{bubbles:!0});l.call(s,o),s.dispatchEvent(d)}},[a,o]),w.jsx(H.input,{style:{display:"none"},...e,ref:i,defaultValue:o})});Ke.displayName=zt;function At(t=[],o,e){const r=[...t];return r[e]=o,r.sort((n,i)=>n-i)}function Ve(t,o,e){const i=100/(e-o)*(t-o);return ze(i,[0,100])}function It(t,o){return o>2?`Value ${t+1} of ${o}`:o===2?["Minimum","Maximum"][t]:void 0}function Nt(t,o){if(t.length===1)return 0;const e=t.map(n=>Math.abs(n-o)),r=Math.min(...e);return e.indexOf(r)}function Tt(t,o,e){const r=t/2,i=he([0,50],[0,r]);return(r-i(o)*e)*e}function jt(t){return t.slice(0,-1).map((o,e)=>t[e+1]-o)}function Ot(t,o){if(o>0){const e=jt(t);return Math.min(...e)>=o}return!0}function he(t,o){return e=>{if(t[0]===t[1]||o[0]===o[1])return o[0];const r=(o[1]-o[0])/(t[1]-t[0]);return o[0]+r*(e-t[0])}}function Lt(t){return(String(t).split(".")[1]||"").length}function Wt(t,o){const e=Math.pow(10,o);return Math.round(t*e)/e}var kt=Le,Ft=Ue,Bt=He,Ut=Ze;function Ht({className:t,defaultValue:o,value:e,min:r=0,max:n=100,...i}){const a=f.useMemo(()=>Array.isArray(e)?e:Array.isArray(o)?o:[r,n],[e,o,r,n]);return w.jsxs(kt,{"data-slot":"slider",defaultValue:o,value:e,min:r,max:n,className:Q("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...i,children:[w.jsx(Ft,{"data-slot":"slider-track",className:Q("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:w.jsx(Bt,{"data-slot":"slider-range",className:Q("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(s,c)=>w.jsx(Ut,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}const Zt=t=>new Promise((o,e)=>{const r=new Image;r.addEventListener("load",()=>o(r)),r.addEventListener("error",n=>e(n)),r.setAttribute("crossOrigin","anonymous"),r.src=t});async function Kt(t,o){const e=await Zt(t),r=document.createElement("canvas"),n=r.getContext("2d");if(!n)throw new Error("Could not get canvas context");const i=Math.max(e.width,e.height)*4;r.width=i,r.height=i,n.translate(i/2,i/2),n.translate(-e.width/2,-e.height/2),n.drawImage(e,0,0);const a=n.getImageData(0,0,i,i);return r.width=o.width,r.height=o.height,n.putImageData(a,Math.round(0-i/2+e.width/2-o.x),Math.round(0-i/2+e.height/2-o.y)),new Promise((s,c)=>{r.toBlob(u=>{if(!u){c(new Error("Canvas is empty"));return}s(u)},"image/jpeg")})}function q(){return(q=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function Ye(t,o){if(t==null)return{};var e,r,n={},i=Object.keys(t);for(r=0;r<i.length;r++)o.indexOf(e=i[r])>=0||(n[e]=t[e]);return n}function ue(t){var o=f.useRef(t),e=f.useRef(function(r){o.current&&o.current(r)});return o.current=t,e.current}var U=function(t,o,e){return o===void 0&&(o=0),e===void 0&&(e=1),t>e?e:t<o?o:t},B=function(t){return"touches"in t},le=function(t){return t&&t.ownerDocument.defaultView||self},we=function(t,o,e){var r=t.getBoundingClientRect(),n=B(o)?function(i,a){for(var s=0;s<i.length;s++)if(i[s].identifier===a)return i[s];return i[0]}(o.touches,e):o;return{left:U((n.pageX-(r.left+le(t).pageXOffset))/r.width),top:U((n.pageY-(r.top+le(t).pageYOffset))/r.height)}},xe=function(t){!B(t)&&t.preventDefault()},qe=y.memo(function(t){var o=t.onMove,e=t.onKey,r=Ye(t,["onMove","onKey"]),n=f.useRef(null),i=ue(o),a=ue(e),s=f.useRef(null),c=f.useRef(!1),u=f.useMemo(function(){var x=function(h){xe(h),(B(h)?h.touches.length>0:h.buttons>0)&&n.current?i(we(n.current,h,s.current)):g(!1)},b=function(){return g(!1)};function g(h){var v=c.current,C=le(n.current),m=h?C.addEventListener:C.removeEventListener;m(v?"touchmove":"mousemove",x),m(v?"touchend":"mouseup",b)}return[function(h){var v=h.nativeEvent,C=n.current;if(C&&(xe(v),!function(S,_){return _&&!B(S)}(v,c.current)&&C)){if(B(v)){c.current=!0;var m=v.changedTouches||[];m.length&&(s.current=m[0].identifier)}C.focus(),i(we(C,v,s.current)),g(!0)}},function(h){var v=h.which||h.keyCode;v<37||v>40||(h.preventDefault(),a({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},g]},[a,i]),l=u[0],d=u[1],p=u[2];return f.useEffect(function(){return p},[p]),y.createElement("div",q({},r,{onTouchStart:l,onMouseDown:l,className:"react-colorful__interactive",ref:n,onKeyDown:d,tabIndex:0,role:"slider"}))}),pe=function(t){return t.filter(Boolean).join(" ")},Xe=function(t){var o=t.color,e=t.left,r=t.top,n=r===void 0?.5:r,i=pe(["react-colorful__pointer",t.className]);return y.createElement("div",{className:i,style:{top:100*n+"%",left:100*e+"%"}},y.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:o}}))},D=function(t,o,e){return o===void 0&&(o=0),e===void 0&&(e=Math.pow(10,o)),Math.round(e*t)/e},Vt=function(t){return Gt(de(t))},de=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?D(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?D(parseInt(t.substring(6,8),16)/255,2):1}},Yt=function(t){return $t(Xt(t))},qt=function(t){var o=t.s,e=t.v,r=t.a,n=(200-o)*e/100;return{h:D(t.h),s:D(n>0&&n<200?o*e/100/(n<=100?n:200-n)*100:0),l:D(n/2),a:D(r,2)}},fe=function(t){var o=qt(t);return"hsl("+o.h+", "+o.s+"%, "+o.l+"%)"},Xt=function(t){var o=t.h,e=t.s,r=t.v,n=t.a;o=o/360*6,e/=100,r/=100;var i=Math.floor(o),a=r*(1-e),s=r*(1-(o-i)*e),c=r*(1-(1-o+i)*e),u=i%6;return{r:D(255*[r,s,a,a,c,r][u]),g:D(255*[c,r,r,s,a,a][u]),b:D(255*[a,a,c,r,r,s][u]),a:D(n,2)}},K=function(t){var o=t.toString(16);return o.length<2?"0"+o:o},$t=function(t){var o=t.r,e=t.g,r=t.b,n=t.a,i=n<1?K(D(255*n)):"";return"#"+K(o)+K(e)+K(r)+i},Gt=function(t){var o=t.r,e=t.g,r=t.b,n=t.a,i=Math.max(o,e,r),a=i-Math.min(o,e,r),s=a?i===o?(e-r)/a:i===e?2+(r-o)/a:4+(o-e)/a:0;return{h:D(60*(s<0?s+6:s)),s:D(i?a/i*100:0),v:D(i/255*100),a:n}},Jt=y.memo(function(t){var o=t.hue,e=t.onChange,r=pe(["react-colorful__hue",t.className]);return y.createElement("div",{className:r},y.createElement(qe,{onMove:function(n){e({h:360*n.left})},onKey:function(n){e({h:U(o+360*n.left,0,360)})},"aria-label":"Hue","aria-valuenow":D(o),"aria-valuemax":"360","aria-valuemin":"0"},y.createElement(Xe,{className:"react-colorful__hue-pointer",left:o/360,color:fe({h:o,s:100,v:100,a:1})})))}),Qt=y.memo(function(t){var o=t.hsva,e=t.onChange,r={backgroundColor:fe({h:o.h,s:100,v:100,a:1})};return y.createElement("div",{className:"react-colorful__saturation",style:r},y.createElement(qe,{onMove:function(n){e({s:100*n.left,v:100-100*n.top})},onKey:function(n){e({s:U(o.s+100*n.left,0,100),v:U(o.v-100*n.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+D(o.s)+"%, Brightness "+D(o.v)+"%"},y.createElement(Xe,{className:"react-colorful__saturation-pointer",top:1-o.v/100,left:o.s/100,color:fe(o)})))}),$e=function(t,o){if(t===o)return!0;for(var e in t)if(t[e]!==o[e])return!1;return!0},er=function(t,o){return t.toLowerCase()===o.toLowerCase()||$e(de(t),de(o))};function tr(t,o,e){var r=ue(e),n=f.useState(function(){return t.toHsva(o)}),i=n[0],a=n[1],s=f.useRef({color:o,hsva:i});f.useEffect(function(){if(!t.equal(o,s.current.color)){var u=t.toHsva(o);s.current={hsva:u,color:o},a(u)}},[o,t]),f.useEffect(function(){var u;$e(i,s.current.hsva)||t.equal(u=t.fromHsva(i),s.current.color)||(s.current={hsva:i,color:u},r(u))},[i,t,r]);var c=f.useCallback(function(u){a(function(l){return Object.assign({},l,u)})},[]);return[i,c]}var rr=typeof window<"u"?f.useLayoutEffect:f.useEffect,or=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Ce=new Map,nr=function(t){rr(function(){var o=t.current?t.current.ownerDocument:document;if(o!==void 0&&!Ce.has(o)){var e=o.createElement("style");e.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Ce.set(o,e);var r=or();r&&e.setAttribute("nonce",r),o.head.appendChild(e)}},[])},ir=function(t){var o=t.className,e=t.colorModel,r=t.color,n=r===void 0?e.defaultColor:r,i=t.onChange,a=Ye(t,["className","colorModel","color","onChange"]),s=f.useRef(null);nr(s);var c=tr(e,n,i),u=c[0],l=c[1],d=pe(["react-colorful",o]);return y.createElement("div",q({},a,{ref:s,className:d}),y.createElement(Qt,{hsva:u,onChange:l}),y.createElement(Jt,{hue:u.h,onChange:l,className:"react-colorful__last-control"}))},ar={defaultColor:"000",toHsva:Vt,fromHsva:function(t){return Yt({h:t.h,s:t.s,v:t.v,a:1})},equal:er},sr=function(t){return y.createElement(ir,q({},t,{colorModel:ar}))},ee,be;function cr(){if(be)return ee;be=1;var t=!1,o,e,r,n,i,a,s,c,u,l,d,p,x,b,g;function h(){if(!t){t=!0;var C=navigator.userAgent,m=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(C),S=/(Mac OS X)|(Windows)|(Linux)/.exec(C);if(p=/\b(iPhone|iP[ao]d)/.exec(C),x=/\b(iP[ao]d)/.exec(C),l=/Android/i.exec(C),b=/FBAN\/\w+;/i.exec(C),g=/Mobile/i.exec(C),d=!!/Win64/.exec(C),m){o=m[1]?parseFloat(m[1]):m[5]?parseFloat(m[5]):NaN,o&&document&&document.documentMode&&(o=document.documentMode);var _=/(?:Trident\/(\d+.\d+))/.exec(C);a=_?parseFloat(_[1])+4:o,e=m[2]?parseFloat(m[2]):NaN,r=m[3]?parseFloat(m[3]):NaN,n=m[4]?parseFloat(m[4]):NaN,n?(m=/(?:Chrome\/(\d+\.\d+))/.exec(C),i=m&&m[1]?parseFloat(m[1]):NaN):i=NaN}else o=e=r=i=n=NaN;if(S){if(S[1]){var E=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(C);s=E?parseFloat(E[1].replace("_",".")):!0}else s=!1;c=!!S[2],u=!!S[3]}else s=c=u=!1}}var v={ie:function(){return h()||o},ieCompatibilityMode:function(){return h()||a>o},ie64:function(){return v.ie()&&d},firefox:function(){return h()||e},opera:function(){return h()||r},webkit:function(){return h()||n},safari:function(){return v.webkit()},chrome:function(){return h()||i},windows:function(){return h()||c},osx:function(){return h()||s},linux:function(){return h()||u},iphone:function(){return h()||p},mobile:function(){return h()||p||x||l||g},nativeApp:function(){return h()||b},android:function(){return h()||l},ipad:function(){return h()||x}};return ee=v,ee}var te,Se;function ur(){if(Se)return te;Se=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),o={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return te=o,te}var re,ye;function lr(){if(ye)return re;ye=1;var t=ur(),o;t.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function e(r,n){if(!t.canUseDOM||n&&!("addEventListener"in document))return!1;var i="on"+r,a=i in document;if(!a){var s=document.createElement("div");s.setAttribute(i,"return;"),a=typeof s[i]=="function"}return!a&&o&&r==="wheel"&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}return re=e,re}var oe,_e;function dr(){if(_e)return oe;_e=1;var t=cr(),o=lr(),e=10,r=40,n=800;function i(a){var s=0,c=0,u=0,l=0;return"detail"in a&&(c=a.detail),"wheelDelta"in a&&(c=-a.wheelDelta/120),"wheelDeltaY"in a&&(c=-a.wheelDeltaY/120),"wheelDeltaX"in a&&(s=-a.wheelDeltaX/120),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(s=c,c=0),u=s*e,l=c*e,"deltaY"in a&&(l=a.deltaY),"deltaX"in a&&(u=a.deltaX),(u||l)&&a.deltaMode&&(a.deltaMode==1?(u*=r,l*=r):(u*=n,l*=n)),u&&!s&&(s=u<1?-1:1),l&&!c&&(c=l<1?-1:1),{spinX:s,spinY:c,pixelX:u,pixelY:l}}return i.getEventType=function(){return t.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},oe=i,oe}var ne,Re;function fr(){return Re||(Re=1,ne=dr()),ne}var hr=fr();const pr=Je(hr);function mr(t,o,e,r,n,i){i===void 0&&(i=0);var a=L(t,o,i),s=a.width,c=a.height,u=Math.min(s,e),l=Math.min(c,r);return u>l*n?{width:l*n,height:l}:{width:u,height:u/n}}function vr(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function F(t,o,e,r,n){n===void 0&&(n=0);var i=L(o.width,o.height,n),a=i.width,s=i.height;return{x:Ee(t.x,a,e.width,r),y:Ee(t.y,s,e.height,r)}}function Ee(t,o,e,r){var n=o*r/2-e/2;return X(t,-n,n)}function De(t,o){return Math.sqrt(Math.pow(t.y-o.y,2)+Math.pow(t.x-o.x,2))}function Pe(t,o){return Math.atan2(o.y-t.y,o.x-t.x)*180/Math.PI}function gr(t,o,e,r,n,i,a){i===void 0&&(i=0),a===void 0&&(a=!0);var s=a?wr:xr,c=L(o.width,o.height,i),u=L(o.naturalWidth,o.naturalHeight,i),l={x:s(100,((c.width-e.width/n)/2-t.x/n)/c.width*100),y:s(100,((c.height-e.height/n)/2-t.y/n)/c.height*100),width:s(100,e.width/c.width*100/n),height:s(100,e.height/c.height*100/n)},d=Math.round(s(u.width,l.width*u.width/100)),p=Math.round(s(u.height,l.height*u.height/100)),x=u.width>=u.height*r,b=x?{width:Math.round(p*r),height:p}:{width:d,height:Math.round(d/r)},g=P(P({},b),{x:Math.round(s(u.width-b.width,l.x*u.width/100)),y:Math.round(s(u.height-b.height,l.y*u.height/100))});return{croppedAreaPercentages:l,croppedAreaPixels:g}}function wr(t,o){return Math.min(t,Math.max(0,o))}function xr(t,o){return o}function Cr(t,o,e,r,n,i){var a=L(o.width,o.height,e),s=X(r.width/a.width*(100/t.width),n,i),c={x:s*a.width/2-r.width/2-a.width*s*(t.x/100),y:s*a.height/2-r.height/2-a.height*s*(t.y/100)};return{crop:c,zoom:s}}function br(t,o,e){var r=vr(o);return e.height>e.width?e.height/(t.height*r):e.width/(t.width*r)}function Sr(t,o,e,r,n,i){e===void 0&&(e=0);var a=L(o.naturalWidth,o.naturalHeight,e),s=X(br(t,o,r),n,i),c=r.height>r.width?r.height/t.height:r.width/t.width,u={x:((a.width-t.width)/2-t.x)*c,y:((a.height-t.height)/2-t.y)*c};return{crop:u,zoom:s}}function Me(t,o){return{x:(o.x+t.x)/2,y:(o.y+t.y)/2}}function yr(t){return t*Math.PI/180}function L(t,o,e){var r=yr(e);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*o),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*o)}}function X(t,o,e){return Math.min(Math.max(t,o),e)}function V(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var _r=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Rr=1,Er=3,Dr=1,Pr=function(t){lt(o,t);function o(){var e=t!==null&&t.apply(this,arguments)||this;return e.cropperRef=f.createRef(),e.imageRef=f.createRef(),e.videoRef=f.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var r=!0;e.resizeObserver=new window.ResizeObserver(function(n){if(r){r=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.emitCropData(),e.setInitialCrop(r)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var n=Cr(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),i=n.crop,a=n.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(a)}else if(e.props.initialCroppedAreaPixels){var s=Sr(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),i=s.crop,a=s.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(a)}},e.computeSizes=function(){var r,n,i,a,s,c,u=e.imageRef.current||e.videoRef.current;if(u&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var l=e.containerRect.width/e.containerRect.height,d=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((n=e.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,p=((i=e.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=e.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,x=u.offsetWidth<d||u.offsetHeight<p,b=d/p,g=void 0;if(x)switch(e.state.mediaObjectFit){default:case"contain":g=l>b?{width:e.containerRect.height*b,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/b};break;case"horizontal-cover":g={width:e.containerRect.width,height:e.containerRect.width/b};break;case"vertical-cover":g={width:e.containerRect.height*b,height:e.containerRect.height};break}else g={width:u.offsetWidth,height:u.offsetHeight};e.mediaSize=P(P({},g),{naturalWidth:d,naturalHeight:p}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var h=e.props.cropSize?e.props.cropSize:mr(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==h.height||((c=e.state.cropSize)===null||c===void 0?void 0:c.width)!==h.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(h),e.setState({cropSize:h},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(h),h}},e.saveContainerPosition=function(){if(e.containerRef){var r=e.containerRef.getBoundingClientRect();e.containerPosition={x:r.left,y:r.top}}},e.onMouseDown=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(o.getMousePoint(r)))},e.onMouseMove=function(r){return e.onDrag(o.getMousePoint(r))},e.onScroll=function(r){e.currentDoc&&(r.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(r){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(o.getTouchPoint(r.touches[0]))))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(o.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(r){if(r.preventDefault(),!e.isTouching){var n=o.getMousePoint(r),i=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(i,n,{shouldUpdatePosition:!0}),e.props.onRotationChange){var a=e.gestureRotationStart+r.rotation;e.props.onRotationChange(a)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var n,i,a=r.x,s=r.y;e.dragStartPosition={x:a,y:s},e.dragStartCrop=P({},e.props.crop),(i=(n=e.props).onInteractionStart)===null||i===void 0||i.call(n)},e.onDrag=function(r){var n=r.x,i=r.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(n===void 0||i===void 0)){var a=n-e.dragStartPosition.x,s=i-e.dragStartPosition.y,c={x:e.dragStartCrop.x+a,y:e.dragStartCrop.y+s},u=e.props.restrictPosition?F(c,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):c;e.props.onCropChange(u)}}))},e.onDragStopped=function(){var r,n;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(n=(r=e.props).onInteractionEnd)===null||n===void 0||n.call(r)},e.onWheel=function(r){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var n=o.getMousePoint(r),i=pr(r).pixelY,a=e.props.zoom-i*e.props.zoomSpeed/200;e.setNewZoom(a,n,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,c;return(c=(s=e.props).onInteractionStart)===null||c===void 0?void 0:c.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,c;return(c=(s=e.props).onInteractionEnd)===null||c===void 0?void 0:c.call(s)})},250)}},e.getPointOnContainer=function(r,n){var i=r.x,a=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(i-n.x),y:e.containerRect.height/2-(a-n.y)}},e.getPointOnMedia=function(r){var n=r.x,i=r.y,a=e.props,s=a.crop,c=a.zoom;return{x:(n+s.x)/c,y:(i+s.y)/c}},e.setNewZoom=function(r,n,i){var a=i===void 0?{}:i,s=a.shouldUpdatePosition,c=s===void 0?!0:s;if(!(!e.state.cropSize||!e.props.onZoomChange)){var u=X(r,e.props.minZoom,e.props.maxZoom);if(c){var l=e.getPointOnContainer(n,e.containerPosition),d=e.getPointOnMedia(l),p={x:d.x*u-l.x,y:d.y*u-l.y},x=e.props.restrictPosition?F(p,e.mediaSize,e.state.cropSize,u,e.props.rotation):p;e.props.onCropChange(x)}e.props.onZoomChange(u)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?F(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return gr(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(r){var n=r.croppedAreaPercentages,i=r.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(n,i),e.props.onCropAreaChange&&e.props.onCropAreaChange(n,i)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(r){var n=r.croppedAreaPercentages,i=r.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(n,i)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var r=e.props.restrictPosition?F(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(r),e.emitCropData()}},e.onKeyDown=function(r){var n,i,a=e.props,s=a.crop,c=a.onCropChange,u=a.keyboardStep,l=a.zoom,d=a.rotation,p=u;if(e.state.cropSize){r.shiftKey&&(p*=.2);var x=P({},s);switch(r.key){case"ArrowUp":x.y-=p,r.preventDefault();break;case"ArrowDown":x.y+=p,r.preventDefault();break;case"ArrowLeft":x.x-=p,r.preventDefault();break;case"ArrowRight":x.x+=p,r.preventDefault();break;default:return}e.props.restrictPosition&&(x=F(x,e.mediaSize,e.state.cropSize,l,d)),r.repeat||(i=(n=e.props).onInteractionStart)===null||i===void 0||i.call(n),c(x)}},e.onKeyUp=function(r){var n,i;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}e.emitCropData(),(i=(n=e.props).onInteractionEnd)===null||i===void 0||i.call(n)},e}return o.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=_r,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},o.prototype.componentWillUnmount=function(){var e,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},o.prototype.componentDidUpdate=function(e){var r,n,i,a,s,c,u,l,d;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((n=this.props.cropSize)===null||n===void 0?void 0:n.height)||((i=e.cropSize)===null||i===void 0?void 0:i.width)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((c=this.props.crop)===null||c===void 0?void 0:c.x)||((u=e.crop)===null||u===void 0?void 0:u.y)!==((l=this.props.crop)===null||l===void 0?void 0:l.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((d=this.videoRef.current)===null||d===void 0||d.load());var p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},o.prototype.getAspect=function(){var e=this.props,r=e.cropSize,n=e.aspect;return r?r.width/r.height:n},o.prototype.getObjectFit=function(){var e,r,n,i;if(this.props.objectFit==="cover"){var a=this.imageRef.current||this.videoRef.current;if(a&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var s=this.containerRect.width/this.containerRect.height,c=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,u=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,l=c/u;return l<s?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},o.prototype.onPinchStart=function(e){var r=o.getTouchPoint(e.touches[0]),n=o.getTouchPoint(e.touches[1]);this.lastPinchDistance=De(r,n),this.lastPinchRotation=Pe(r,n),this.onDragStart(Me(r,n))},o.prototype.onPinchMove=function(e){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var n=o.getTouchPoint(e.touches[0]),i=o.getTouchPoint(e.touches[1]),a=Me(n,i);this.onDrag(a),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=De(n,i),c=r.props.zoom*(s/r.lastPinchDistance);r.setNewZoom(c,a,{shouldUpdatePosition:!1}),r.lastPinchDistance=s;var u=Pe(n,i),l=r.props.rotation+(u-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(l),r.lastPinchRotation=u})}},o.prototype.render=function(){var e=this,r,n=this.props,i=n.image,a=n.video,s=n.mediaProps,c=n.cropperProps,u=n.transform,l=n.crop,d=l.x,p=l.y,x=n.rotation,b=n.zoom,g=n.cropShape,h=n.showGrid,v=n.roundCropAreaPixels,C=n.style,m=C.containerStyle,S=C.cropAreaStyle,_=C.mediaStyle,E=n.classes,I=E.containerClassName,$=E.cropAreaClassName,Z=E.mediaClassName,M=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return f.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(z){return e.containerRef=z},"data-testid":"container",style:m,className:V("reactEasyCrop_Container",I)},i?f.createElement("img",P({alt:"",className:V("reactEasyCrop_Image",M==="contain"&&"reactEasyCrop_Contain",M==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",M==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Z)},s,{src:i,ref:this.imageRef,style:P(P({},_),{transform:u||"translate(".concat(d,"px, ").concat(p,"px) rotate(").concat(x,"deg) scale(").concat(b,")")}),onLoad:this.onMediaLoad})):a&&f.createElement("video",P({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:V("reactEasyCrop_Video",M==="contain"&&"reactEasyCrop_Contain",M==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",M==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Z)},s,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:P(P({},_),{transform:u||"translate(".concat(d,"px, ").concat(p,"px) rotate(").concat(x,"deg) scale(").concat(b,")")}),controls:!1}),(Array.isArray(a)?a:[{src:a}]).map(function(R){return f.createElement("source",P({key:R.src},R))})),this.state.cropSize&&f.createElement("div",P({ref:this.cropperRef,style:P(P({},S),{width:v?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:v?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:V("reactEasyCrop_CropArea",g==="round"&&"reactEasyCrop_CropAreaRound",h&&"reactEasyCrop_CropAreaGrid",$)},c)))},o.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Er,minZoom:Rr,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Dr},o.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o}(f.Component);function qr({user:t}){const{data:o,setData:e,errors:r,processing:n,reset:i}=Qe({avatar:null,avatar_color:t.avatar_color||"#4f46e5"}),[a,s]=f.useState(null),[c,u]=f.useState({x:0,y:0}),[l,d]=f.useState(1),[p,x]=f.useState(null),[b,g]=f.useState(!1),h=f.useCallback((m,S)=>{x(S)},[]),v=m=>{m.target.files&&m.target.files[0]&&s(URL.createObjectURL(m.target.files[0]))},C=async m=>{m.preventDefault(),g(!0);const S=new FormData;if(S.append("avatar_color",o.avatar_color),a&&p)try{const _=await Kt(a,p),E=new File([_],"avatar.jpeg",{type:"image/jpeg"});S.append("avatar",E)}catch(_){console.error(_),g(!1);return}et.post(route("profile.avatar.update"),S,{forceFormData:!0,onSuccess:()=>{s(null)},onFinish:()=>g(!1)})};return w.jsxs(ot,{className:"drop-shadow-lg shadow",children:[w.jsxs(nt,{children:[w.jsx(it,{children:"Profile Picture & Color"}),w.jsx(at,{children:"Customize your profile picture and the background color for your avatar initials."})]}),w.jsx(st,{children:w.jsxs("form",{onSubmit:C,className:"space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-1 items-center gap-6 md:grid-cols-2",children:[w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsx(J,{children:"Preview & Crop"}),w.jsx("div",{className:"relative h-48 w-48 rounded-full bg-muted",children:a?w.jsx(Pr,{image:a,crop:c,zoom:l,aspect:1,onCropChange:u,onZoomChange:d,onCropComplete:h,cropShape:"round",showGrid:!1}):w.jsx(ut,{user:{...t,avatar_color:o.avatar_color},className:"h-48 w-48 text-6xl"})}),a&&w.jsxs("div",{className:"w-full px-4",children:[w.jsx(J,{children:"Zoom"}),w.jsx(Ht,{value:[l],onValueChange:m=>d(m[0]),min:1,max:3,step:.1})]}),w.jsx(ct,{id:"avatar",type:"file",accept:"image/*",onChange:v,className:"w-full ring-1 ring-primary hover:bg-accent",disabled:n}),w.jsx(tt,{message:r.avatar})]}),w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsx(J,{htmlFor:"avatar_color",children:"Avatar Color"}),w.jsx(sr,{color:o.avatar_color,onChange:m=>e("avatar_color",m)})]})]}),w.jsx("div",{className:"flex justify-end",children:w.jsxs(rt,{type:"submit",disabled:b||n,children:[w.jsx(dt,{}),b||n?"Saving...":"Save Avatar Settings"]})})]})})]})}export{qr as AvatarSettings};
