import{j as e,L as d,r as m,S as x}from"./app-CrM3bAr7.js";import{B as c}from"./button-DSYtEUz-.js";import{C as h,a as f,b as j,d as u,c as C}from"./card-jCh-kFsa.js";import{P as g,a as N,b as S,C as b,c as v,d as y,e as w,f as I,g as L}from"./popover-BsjEzbmq.js";import{A as P}from"./app-layout-CK9_8PlX.js";import{c as E}from"./utils-jAU0Cazi.js";import{C as M}from"./camera-Ca2Q59WX.js";import{C as O}from"./chevrons-up-down-CqP_Vf3P.js";import{C as R}from"./check-BKXQxHa7.js";import"./index-C7o-dAq6.js";import"./index-DZZQifJx.js";import"./index-BYkqkD9G.js";import"./index-DCk08MMz.js";import"./index-C07_Bs9F.js";import"./tslib.es6-CMwweBXX.js";import"./index-GEmL2IxC.js";import"./floating-ui.react-dom-D6wYppxE.js";import"./index-fR5QWmBt.js";import"./createLucideIcon-BQ0uF5zu.js";import"./x-DprXbeJV.js";import"./tooltip-DWc-CuE-.js";import"./index-ChLr_mRA.js";import"./index-CipIuUZM.js";import"./index-Dyr2mIP4.js";import"./index-6v8HNz3P.js";import"./index-rQBWhrbd.js";import"./index-Dd5Vhwor.js";import"./index-CFGBrPdz.js";import"./dropdown-menu-D615tSEK.js";import"./index-Cxnn9A7l.js";import"./user-avatar-CalEyW6r.js";import"./shield-check-0vfauCFM.js";import"./chevron-right-B5DMNuK2.js";import"./badge-IgYfdO9V.js";import"./separator-C07NZpcB.js";const k=[{title:"Inspections",href:route("inspections.start"),isCurrent:!0}];function A({machines:r}){var n;const[o,a]=m.useState(!1),[t,l]=m.useState(""),p=s=>{const i=s===t?"":s;l(i),a(!1),i&&x.post(route("inspections.store"),{machine_id:i})};return e.jsxs(g,{open:o,onOpenChange:a,children:[e.jsx(N,{asChild:!0,children:e.jsxs(c,{variant:"outline",role:"combobox","aria-expanded":o,className:"w-full justify-between",children:[t?(n=r.find(s=>String(s.id)===t))==null?void 0:n.name:"Select machine...",e.jsx(O,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(S,{className:"w-[--radix-popover-trigger-width] p-0 ring-ring",children:e.jsxs(b,{children:[e.jsx(v,{placeholder:"Search machine..."}),e.jsxs(y,{children:[e.jsx(w,{children:"No machine found."}),e.jsx(I,{children:r.map(s=>e.jsxs(L,{value:String(s.id),onSelect:p,children:[e.jsx(R,{className:E("mr-2 h-4 w-4",t===String(s.id)?"opacity-100":"opacity-0")}),s.name]},s.id))})]})]})})]})}function je({machines:r}){return e.jsxs(P,{breadcrumbs:k,children:[e.jsx(d,{title:"Start Inspection"}),e.jsx("div",{className:"flex min-h-[calc(100vh-10rem)] flex-col items-center justify-center p-4",children:e.jsxs(h,{className:"w-full max-w-4xl ring-1 ring-ring",children:[e.jsxs(f,{children:[e.jsx(j,{className:"text-center text-2xl",children:"Start a New Inspection"}),e.jsx(u,{className:"text-center",children:"Select a machine by scanning its QR code or choosing from the list."})]}),e.jsx(C,{children:e.jsxs("div",{className:"grid items-center gap-8 md:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 border-r-0 p-6 md:border-r",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Scan QR Code"}),e.jsxs(c,{size:"lg",className:"h-24 w-full text-2xl font-bold",children:[e.jsx(M,{className:"mr-4 !h-10 !w-10"}),"Open Camera"]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Choose Manually"}),e.jsx(A,{machines:r})]})]})})]})})]})}export{je as default};
